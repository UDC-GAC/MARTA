- kernel:
      name: "matrices"
      path: "kernels/matrices"
      description: "Setup for experiment codelet_spf"
      debug: False
      show_progress_bars: True
      preamble:
          command: "rm -Rf bin asm_codes && sudo cpupower frequency-set -u 2.1GHz && sudo cpupower frequency-set -d 2.1GHz"
      finalize:
          clean_tmp_files: False
          clean_asm_files: False
          clean_bin_files: False
          command: "echo 'done!'"
      compilation:
          enabled: True
          processes: 32
          language: "C"
          compiler_flags: 
            { 
                "gcc": " -march=cascadelake ",
                "icc": " -march=cascadelake ",
            }
          common_flags: " -mfma -mavx2 "
          inlined_kernel: False
          asm_syntax: "intel"
          asm_analysis: False
          debug: False
      configuration:
          kernel_cfg: [
          " AUTOVEC=true ",
          " MACVETH ",
          ]
          d_features:
                MATRIX:
                    evaluate: True
                    type: "static"
                    val_type: "string"
                    #value: "[f\"test-codes/football.spf.c\"]"
                    # value: "[\"test-codes/bibd_15_3.spf.c\",
                    #  \"test-codes/football.spf.c\",
                    #  \"test-codes/pde900.spf.c\",
                    #  \"test-codes/lp_gfrd_pnc.spf.c\",
                    #  \"test-codes/spaceStation_3.spf.c\",
                    #  \"test-codes/N_biocarta.spf.c\",
                    #  \"test-codes/celegans_metabolic.spf.c\" # FIXME:
                    # \"test-codes/cep1.spf.c\",
                    # \"test-codes/Pd.spf.c\",
                    # \"test-codes/spaceShuttleEntry_2.spf.c\",
                    # \"test-codes/adder_dcop_06.spf.c\",
                    # \"test-codes/bcsstk34.spf.c\",
                    # \"test-codes/circuit_2.spf.c\",
                    # \"test-codes/power.spf.c\",
                    # \"test-codes/rajat13.spf.c\",
                    # \"test-codes/deter8.spf.c\",
                    # \"test-codes/3elt_dual.spf.c\",
                    # \"test-codes/bips98_1142.spf.c\",
                    # \"test-codes/fe_sphere.spf.c\",
                    # \"test-codes/G3.spf.c\",
                    # \"test-codes/cat_ears_3_4.spf.c\",
                    # \"test-codes/vsp_c-30_data_data.spf.c\",
                    # \"test-codes/memplus.spf.c\",
                    # \"test-codes/raefsky2.spf.c\",
                    # \"test-codes/rlfdual.spf.c\",
                    #  ]"
                    value: "[\"test-codes/adder_dcop_06.spf.c\",]"
                    # value: "[\"test-codes/bibd_15_3.spf.c\",
                    #     \"test-codes/football.spf.c\",
                    #     \"test-codes/spaceStation_3.spf.c\",
                    #     \"test-codes/adder_dcop_06.spf.c\",
                    #    \"test-codes/N_biocarta.spf.c\",
                    #     \"test-codes/celegans_metabolic.c\",
                    #   \"test-codes/Pd.spf.c\",
                    #   \"test-codes/power.spf.c\",]"
          flops: "0"
          macveth_target: "MATRIX"
      execution:
          enabled: True
          papi_counters: [
            "CPU_CLK_THREAD_UNHALTED:THREAD_P",
            "INST_RETIRED:ANY_P",
            #"UOPS_RETIRED:ALL",
            #"UOPS_ISSUED:ALL",
            #"UOPS_EXECUTED:THREAD",            
            #"UOPS_RETIRED:STALL_CYCLES",
            #"UOPS_ISSUED:STALL_CYCLES",
            "UOPS_EXECUTED:STALL_CYCLES",
            #"CPU_CLK_UNHALTED",
            #"ix86arch::UNHALTED_REFERENCE_CYCLES",
            #"UNHALTED_REFERENCE_CYCLES",
            #"UOPS_EXECUTED:CORE_CYCLES_NONE",
            #"UOPS_ISSUED:STALL_CYCLES",
            #"INST_RETIRED:ANY_P",
            #"UOPS_ISSUED:ALL",
            #"UOPS_RETIRED:ALL",
            #"FP_ARITH:SCALAR_DOUBLE",
            #"FP_ARITH:128B_PACKED_DOUBLE",
            #"FP_ARITH:256B_PACKED_DOUBLE",
            #"FP_ARITH:512B_PACKED_DOUBLE",
            #"PAPI_BR_TKN",
            #"PAPI_BR_MSP",
            #"MEM_LOAD_UOPS_RETIRED:L1_HIT",
            #"MEM_LOAD_UOPS_RETIRED:L1_MISS",
            #"ICACHE_64B:IFTAG_HIT",
            ]
          time: False
          tsc: True
          threshold_outliers: 3
          mean_and_discard_outliers: True
          init_data: True
          intel_cache_flush: True
          check_dump: True
          nexec: 10
          nsteps: 1
          cpu_affinity: 11
          prefix: ""
      output:
          name: "default"
          columns: "all"
          report: True
          verbose: True